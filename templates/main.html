{% extends "layout.html" %}
{% block content %}
<div class="my-3 text-center">
    ファイルはアップロードから{{ expiration_days }}日後に自動で削除されます。
</div>

<div class="my-4 text-center">
    <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#upload-modal">
        ファイルをアップロードする
    </button>
</div>

<div id="upload-modal" class="modal fade" tabindex="-1" aria-labelledby="uploadModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" style="max-width: 90%;">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="uploadModalLabel">ファイルのアップロード</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="閉じる"></button>
            </div>
            <div class="modal-body">
                <div id="drag-drop-area"></div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">閉じる</button>
            </div>
        </div>
    </div>
</div>

<div id="file-list">
    <table class="table mx-auto align-middle" style="width: auto;">
        <thead class="table-light">
            <tr>
                <th>ファイル名</th>
                <th>サイズ</th>
                <th>アップロード日時</th>
                <th class="text-center">ダウンロード</th>
                <th class="text-center">リンクをコピー</th>
                <th class="text-center">削除</th>
            </tr>
        </thead>
        <tbody id="file-list-table-body">
            <tr><td colspan="6" class="text-center">ファイルがありません。</td></tr>
        </tbody>
    </table>
</div>

{% include "remove_modal.html" %}
{% include "toast.html" %}

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>
<script src="https://releases.transloadit.com/uppy/v1.31.0/uppy.min.js"></script>
<script src="https://releases.transloadit.com/uppy/locales/v1.22.0/ja_JP.min.js"></script>
<script src="{{ url_for('static', path='common.js') }}"></script>
<script src="{{ url_for('static', path='main.js') }}"></script>
{% endblock %}
